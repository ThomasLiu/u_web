(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{APTO:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("o0o1")),c=n(a("MVZn")),u=a("qPne"),o=a("sbPB"),l={namespace:"wechatLogin",state:{authUrl:""},reducers:{fetchUrl:function(e,t){var a=t.payload.authUrl;return(0,c.default)({},e,{authUrl:a})}},effects:{getAuthUrl:r.default.mark(function e(t,a){var n,c,u,l,i;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,c=a.call,u=a.put,e.next=4,c(o.url,n);case 4:return l=e.sent,i=l.data,e.next=8,u({type:"fetchUrl",payload:{authUrl:i}});case 8:case"end":return e.stop()}},e,this)}),login:r.default.mark(function e(t,a){var n,c,o,l,i,d,s;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,c=n.code,o=n.redirect,l=a.call,i=a.put,e.next=4,l(u.wechatLogin,{code:c});case 4:if(d=e.sent,s=d.data,!s.token){e.next=10;break}return o&&(s.redirect=o),e.next=10,i({type:"login/login",payload:s});case 10:case"end":return e.stop()}},e,this)}),webappLogin:r.default.mark(function e(t,a){var n,c,o,l,i,d,s;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,c=n.code,o=n.redirect,l=a.call,i=a.put,e.next=4,l(u.webappLogin,{code:c});case 4:if(d=e.sent,s=d.data,!s.token){e.next=10;break}return o&&(s.redirect=o),e.next=10,i({type:"login/login",payload:s});case 10:case"end":return e.stop()}},e,this)})}};t.default=l}}]);